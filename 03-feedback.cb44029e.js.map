{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAASC,SAASC,cAAc,kBAKtCF,EAAOG,iBAAiB,UAGxB,SAAsBC,GACpBA,EAAIC,iBACa,IAAIC,SAASN,GACrBO,SAAQ,CAACC,EAAOC,IAASC,QAAQC,IAAIH,EAAOC,KACrDL,EAAIQ,cAAcC,QAClBC,aAAaC,WAdU,kB,IAOzBf,EAAOG,iBAAiB,SAAS,EAAAL,EAAAkB,WAUjC,SAAqBZ,GACnB,IAAIa,EAAmBH,aAAaI,QAlBb,mBAmBvBD,EAAmBA,EAAmBE,KAAKC,MAAMH,GAAoB,GACrEA,EAAiBb,EAAIiB,OAAOZ,MAAQL,EAAIiB,OAAOb,MAC/CM,aAAaQ,QArBU,kBAqBgBH,KAAKI,UAAUN,G,GAdD","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst LOCALSTORAGE_KEY = 'selectedFilters';\nconst formEl = document.querySelector('.feedback-form');\n\n\n// initForm();\n\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const formData = new FormData(formEl);\n  formData.forEach((value, name) => console.log(value, name));\n  evt.currentTarget.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction onFormInput(evt) {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  persistedFilters = persistedFilters ? JSON.parse(persistedFilters) : {};\n  persistedFilters[evt.target.name] = evt.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(persistedFilters));\n}\n\nfunction initForm() {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  if (persistedFilters) {\n    persistedFilters = JSON.parse(persistedFilters);\n    Object.entries(persistedFilters).forEach(([name, value]) => {\n      formEl.elements[name].value = value;\n    });\n  }\n\n  initForm();\n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","addEventListener","evt","preventDefault","FormData","forEach","value","name","console","log","currentTarget","reset","localStorage","removeItem","throttle","persistedFilters","getItem","JSON","parse","target","setItem","stringify"],"version":3,"file":"03-feedback.cb44029e.js.map"}