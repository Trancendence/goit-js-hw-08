{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAASC,SAASC,cAAc,mBAuBtC,WACE,IAAIC,EAAmBC,aAAaC,QAzBb,mBA0BnBF,IACFA,EAAmBG,KAAKC,MAAMJ,GAC9BK,OAAOC,QAAQN,GAAkBO,SAAQ,EAAEC,EAAMC,MAC/CZ,EAAOa,SAASF,GAAMC,MAAQA,CAAK,I,CAzBzCE,GAEAd,EAAOe,iBAAiB,UAGxB,SAAsBC,GACpBA,EAAIC,iBACa,IAAIC,SAASlB,GACrBU,SAAQ,CAACE,EAAOD,IAASQ,QAAQC,IAAIR,EAAOD,KACrDK,EAAIK,cAAcC,QAClBlB,aAAamB,WAdU,kB,IAOzBvB,EAAOe,iBAAiB,SAAS,EAAAjB,EAAA0B,WAUjC,SAAqBR,GACnB,IAAIb,EAAmBC,aAAaC,QAlBb,mBAmBvBF,EAAmBA,EAAmBG,KAAKC,MAAMJ,GAAoB,GACrEA,EAAiBa,EAAIS,OAAOd,MAAQK,EAAIS,OAAOb,MAC/CR,aAAasB,QArBU,kBAqBgBpB,KAAKqB,UAAUxB,G,GAdD","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst LOCALSTORAGE_KEY = 'selectedFilters';\nconst formEl = document.querySelector('.feedback-form');\n\n\ninitForm();\n\nformEl.addEventListener('submit', onFormSubmit);\nformEl.addEventListener('input', throttle(onFormInput, 500));\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const formData = new FormData(formEl);\n  formData.forEach((value, name) => console.log(value, name));\n  evt.currentTarget.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction onFormInput(evt) {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  persistedFilters = persistedFilters ? JSON.parse(persistedFilters) : {};\n  persistedFilters[evt.target.name] = evt.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(persistedFilters));\n}\n\nfunction initForm() {\n  let persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  if (persistedFilters) {\n    persistedFilters = JSON.parse(persistedFilters);\n    Object.entries(persistedFilters).forEach(([name, value]) => {\n      formEl.elements[name].value = value;\n    });\n  }\n}\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","persistedFilters","localStorage","getItem","JSON","parse","Object","entries","forEach","name","value","elements","$945622fd0f572e60$var$initForm","addEventListener","evt","preventDefault","FormData","console","log","currentTarget","reset","removeItem","throttle","target","setItem","stringify"],"version":3,"file":"03-feedback.7886a1f9.js.map"}